# 🎬 Yisin 测试启动指南

## ✅ 前置检查

- [ ] Xcode 已打开
- [ ] 项目已加载（右上角进度条消失）
- [ ] `Yisin` scheme 已选择（左上角）
- [ ] API Key 已配置

---

## 🚀 启动步骤

### 第 1 步：运行应用

```
按 ⌘R 或点击运行按钮
```

**预期**：
- 应用开始编译（底部显示进度）
- 编译完成后自动启动
- 菜单栏右上角出现 Yisin 图标（两条优雅的曲线）

### 第 2 步：等待初始化

```
等待 3-5 秒
```

**预期**：
- Xcode 控制台显示日志
- 应该看到：`✅ 快捷键注册成功: ⌘ ⌥ T`

### 第 3 步：开始测试

```
按 ⌘⌥T
```

**预期**：
- 输入窗口立即弹出
- 窗口自动聚焦到输入框
- 如果剪贴板有内容，自动填充

---

## 🧪 快速测试流程（3 分钟）

### 测试 A：基本翻译

```
1. 按 ⌘⌥T
2. 输入：Hello world
3. 按 ⌘Enter
4. 查看翻译结果
5. 按 ESC 关闭
```

**成功标志**：
- ✅ 输入窗口弹出
- ✅ 翻译结果显示
- ✅ 菜单栏图标变蓝（思考中）

### 测试 B：自动粘贴

```
1. 复制文本：你好世界
2. 按 ⌘⌥T
3. 输入框自动填充
4. 按 ⌘Enter
5. 查看翻译结果
```

**成功标志**：
- ✅ 自动粘贴剪贴板内容
- ✅ 翻译成英文

### 测试 C：菜单栏图标

观察菜单栏图标的变化：

```
待机 → 翻译中（旋转） → 完成（闪烁） → 待机
```

**成功标志**：
- ✅ 图标平滑动画
- ✅ 状态正确切换

---

## 🔍 查看日志

在 Xcode 底部的控制台查看详细日志：

```
🔧 尝试注册快捷键: ⌘ ⌥ T
🔑 解析成功 - KeyCode: 17, Modifiers: 2304
✅ 快捷键注册成功: ⌘ ⌥ T
🎯 快捷键被按下，显示输入窗口
📝 翻译文本: Hello world
🌐 检测语言: EN → 中文
✅ 翻译成功
```

---

## ⚠️ 常见问题

### 问题 1：快捷键无反应

**检查清单**：
- [ ] 菜单栏有 Yisin 图标吗？
- [ ] Xcode 控制台有错误吗？
- [ ] 快捷键是否与其他应用冲突？

**解决方案**：
1. 查看 Xcode 控制台的错误信息
2. 尝试重新运行（⌘R）
3. 尝试不同的快捷键（在设置中录制）

### 问题 2：输入窗口不显示

**检查清单**：
- [ ] 窗口可能在其他桌面空间
- [ ] 应用可能未获得焦点

**解决方案**：
1. 按 `⌘Tab` 切换到 Yisin
2. 查看所有桌面空间
3. 重启应用

### 问题 3：翻译失败

**检查清单**：
- [ ] API Key 是否正确？
- [ ] 网络连接是否正常？
- [ ] Gemini API 配额是否用完？

**解决方案**：
1. 在设置中重新输入 API Key
2. 检查网络连接
3. 查看 Xcode 控制台的错误信息

---

## 📊 成功标准

✅ **所有以下条件都满足**：

- [ ] 快捷键立即响应（< 0.2 秒）
- [ ] 输入窗口弹出（< 0.3 秒）
- [ ] 自动粘贴剪贴板内容
- [ ] 翻译结果正确显示（1-3 秒）
- [ ] 菜单栏图标动画流畅
- [ ] 可以点击复制翻译结果
- [ ] 按 ESC 正确关闭窗口

---

## 💡 高级测试

### 测试快捷键自定义

```
1. 点击菜单栏图标 → 设置
2. 在"快捷键"部分点击"录制"
3. 按下新的组合键（如 ⌘⌃T）
4. 关闭设置
5. 测试新快捷键是否生效
```

### 测试多语言

```
1. 按 ⌘⌥T
2. 输入日文、韩文等其他语言
3. 观察是否能正确检测和翻译
```

### 测试长文本

```
1. 复制一段长文本（> 500 字）
2. 按 ⌘⌥T
3. 按 ⌘Enter 翻译
4. 观察窗口是否正确调整大小
```

---

## 📝 测试报告

完成测试后，请记录：

```
测试日期：____________________
测试环境：macOS ______
Xcode 版本：____________________

✅ 通过的测试：
- [ ] 快捷键响应
- [ ] 输入窗口显示
- [ ] 自动粘贴
- [ ] 翻译功能
- [ ] 图标动画
- [ ] 复制功能

❌ 失败的测试：
1. ________________________________
2. ________________________________

总体评价：
□ 优秀  □ 良好  □ 一般  □ 需改进

备注：
________________________________
```

---

## 🎯 下一步

测试完成后：

1. **如果一切正常** ✅
   - 恭喜！应用已准备好使用
   - 可以继续开发 Stage 5（历史记录）

2. **如果有问题** ❌
   - 记录问题详情
   - 查看 Xcode 控制台日志
   - 联系开发者

---

## 📞 获取帮助

如遇到问题，请提供：

1. **Xcode 控制台的完整日志**
2. **具体的错误信息**
3. **复现步骤**
4. **系统信息**（macOS 版本、Xcode 版本）

---

**准备好了吗？按 ⌘R 开始测试！** 🚀

祝您测试顺利！🍵
