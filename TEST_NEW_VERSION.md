# 🧪 Yisin 新版本测试指南

## ✨ 新交互模式

**旧版本**（已废弃）：选中文本 → 按快捷键 → 自动翻译
**新版本**（当前）：按快捷键 → 输入窗口 → 粘贴/输入文本 → 翻译

---

## 📋 测试步骤

### 测试 1: 基本翻译流程

1. **按快捷键**
   - 按 `⌘⌥T` (Command + Option + T)
   - 应该立即弹出输入窗口

2. **输入文本**
   - 方式 A: 直接输入 `Hello world`
   - 方式 B: 先复制文本，按快捷键后会自动粘贴

3. **开始翻译**
   - 按 `⌘Enter` 或点击"翻译"按钮
   - 输入窗口关闭
   - 弹出翻译结果窗口

4. **查看结果**
   - 上部显示原文（EN）
   - 下部显示翻译（中文）
   - 点击翻译结果可复制

5. **关闭结果**
   - 按 `ESC` 或点击 ❌ 按钮

---

### 测试 2: 自动粘贴功能

1. 复制一段文本：`The quick brown fox jumps over the lazy dog`
2. 按 `⌘⌥T`
3. ✅ 输入框应该自动填充剪贴板内容
4. 直接按 `⌘Enter` 翻译

---

### 测试 3: 中文翻译

1. 按 `⌘⌥T`
2. 输入：`你好世界，这是一个测试。`
3. 按 `⌘Enter`
4. ✅ 应该自动检测为中文并翻译成英文

---

### 测试 4: 取消操作

1. 按 `⌘⌥T` 打开输入窗口
2. 按 `ESC` 或点击"取消"
3. ✅ 窗口应该关闭，不进行翻译

---

### 测试 5: 菜单栏图标状态

观察菜单栏图标的变化：

1. **待机**：静态图标（灰色）
2. **翻译中**：旋转圆环（蓝色）
3. **完成**：短暂闪烁（绿色）
4. **恢复待机**：静态图标

---

### 测试 6: 快捷键录制

1. 点击菜单栏图标 → 设置
2. 在"快捷键"部分点击"录制"
3. 按下新的组合键（如 `⌘⌃T`）
4. ✅ 显示新的快捷键
5. 关闭设置，测试新快捷键是否生效

---

## ✅ 预期结果

### 成功标准

- [ ] 按快捷键立即弹出输入窗口
- [ ] 输入框自动聚焦
- [ ] 剪贴板内容自动粘贴
- [ ] `⌘Enter` 开始翻译
- [ ] `ESC` 取消操作
- [ ] 翻译结果正确显示
- [ ] 菜单栏图标状态正确切换
- [ ] 可以点击复制翻译结果

### 控制台日志

应该看到类似的日志：

```
🔧 尝试注册快捷键: ⌘ ⌥ T
🔑 解析成功 - KeyCode: 17, Modifiers: 2304
✅ 快捷键注册成功: ⌘ ⌥ T
🎯 快捷键被按下，显示输入窗口
📝 翻译文本: Hello world
🌐 检测语言: EN → 中文
✅ 翻译成功
```

---

## 🐛 常见问题

### 问题 1: 按快捷键没反应

**检查**:
- 确认应用正在运行（菜单栏有图标）
- 尝试不同的快捷键组合
- 查看 Xcode 控制台是否有错误

### 问题 2: 输入窗口不显示

**检查**:
- 窗口可能在其他桌面空间
- 尝试 `⌘Tab` 切换到 Yisin
- 重启应用

### 问题 3: 翻译失败

**检查**:
- API Key 是否正确配置
- 网络连接是否正常
- 查看错误信息

---

## 🎯 性能指标

- 快捷键响应时间：< 0.2 秒
- 输入窗口弹出：< 0.3 秒
- 翻译请求时间：1-3 秒（取决于网络）
- 结果窗口显示：< 0.5 秒

---

## 📝 测试报告

请记录您的测试结果：

```
测试日期：____________________
测试人员：____________________

✅ / ❌  测试项目
[ ]  快捷键响应
[ ]  输入窗口显示
[ ]  自动粘贴功能
[ ]  英文→中文翻译
[ ]  中文→英文翻译
[ ]  取消操作
[ ]  菜单栏图标动画
[ ]  复制翻译结果
[ ]  快捷键录制

问题记录：
1. ________________________________
2. ________________________________
3. ________________________________

总体评价：
□ 优秀  □ 良好  □ 一般  □ 需改进
```

---

**开始测试吧！** 🚀

如有任何问题，请查看 Xcode 控制台的详细日志。
